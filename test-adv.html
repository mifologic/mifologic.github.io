<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ê–¥–≤–µ–Ω—Ç: –∑–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ</title>
<style>
  :root {
    --bg: #f7f4f2;
    --card: #fff;
    --accent: #6b4f9f;
    --muted: #7a7a7a;
    --ok: #2a9d8f;
    --shadow: 0 6px 18px rgba(12, 12, 12, 0.08);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html, body {
    height: 100%;
    margin: 0;
    background: linear-gradient(180deg, var(--bg), #eef0f2 100%);
    color: #222;
  }
  .wrap {
    max-width: 980px;
    margin: 28px auto;
    padding: 18px;
  }
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    flex-wrap: wrap;
  }
  h1 {
    font-size: 20px;
    margin: 0;
    color: var(--accent);
  }
  p.lead {
    margin: 6px 0 18px;
    color: var(--muted);
    font-size: 14px;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 16px;
  }

  /* üåø –ê–î–ê–ü–¢–ò–í–ù–´–ï –ö–ê–†–¢–û–ß–ö–ò */
  .card {
    perspective: 800px;
    height: auto;
  }
  .inner {
    position: relative;
    width: 100%;
    height: auto;
    border-radius: 10px;
    background: var(--card);
    box-shadow: var(--shadow);
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform .6s;
    max-height: 300px; /* –õ–∏–º–∏—Ç –≤—ã—Å–æ—Ç—ã –∫–∞—Ä—Ç–æ—á–∫–∏ */
    overflow-y: auto; /* –°–∫—Ä–æ–ª–ª –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ */
  }
  .card.open .inner {
    transform: rotateY(180deg);
  }

  .face {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 14px;
  }

  .front {
    background: linear-gradient(180deg, #fff, var(--card));
    font-weight: 700;
    color: var(--accent);
    font-size: 24px;
  }
  .front .num {
    font-size: 34px;
    line-height: 1;
  }

  /* –ó–∞–¥–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞ */
  .back {
    transform: rotateY(180deg);
    text-align: left;
    padding: 18px; /* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
    font-size: 15px;
    color: #222;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    gap: 12px;
  }

  .task {
    line-height: 1.35;
    word-wrap: break-word;
    overflow-y: auto; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
    max-height: 120px; /* –ú–∞–∫—Å. –≤—ã—Å–æ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ */
    padding-right: 8px;
  }

  .controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
    padding: 8px 0;
    width: 100%;
    box-sizing: border-box;
  }

  .done {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
  }
  .done input {
    width: 20px;
    height: 20px;
  }

  .small {
    font-size: 13px;
    color: var(--muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 80px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    margin-left: auto;
  }

  footer {
    margin-top: 18px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: wrap;
  }

  .progress {
    font-size: 13px;
    color: var(--muted);
  }
  .btn {
    padding: 8px 10px;
    border-radius: 8px;
    border: 0;
    background: var(--accent);
    color: white;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(107, 79, 159, 0.15);
  }
  .btn.secondary {
    background: #eee;
    color: #333;
    font-weight: 600;
  }
  .reset {
    background: transparent;
    border: 0;
    color: var(--muted);
    cursor: pointer;
    text-decoration: underline;
    font-size: 13px;
  }

  .separator {
    margin: 22px 0;
    border-top: 1px dashed rgba(0, 0, 0, 0.06);
    padding-top: 12px;
  }
  .section-title {
    font-size: 15px;
    color: var(--muted);
    margin: 6px 0 12px;
  }

  /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è */
  @media (max-width: 768px) {
    .front .num {
      font-size: 28px;
    }
    .grid {
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    }
    .card {
      perspective: 600px;
    }
    .inner {
      box-shadow: 0 4px 12px rgba(12, 12, 12, 0.06);
    }
  }

  @media (max-width: 480px) {
    /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–µ */
    .back {
      padding: 12px 10px;
    }

    /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤—ã—Å–æ—Ç—É —Ç–µ–∫—Å—Ç–∞ –∏ —É–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç */
    .task {
      max-height: 90px;
      font-size: 14px;
    }

    /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
    .controls {
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
      padding: 6px 0;
    }

    /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è "–î1", "–î25" */
    .small {
      width: 60px;
      font-size: 12px;
    }

    /* –£–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç –≤ —á–µ–∫–±–æ–∫—Å–µ */
    .done {
      font-size: 13px;
    }

    /* –õ–∏–º–∏—Ç –≤—ã—Å–æ—Ç—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö */
    .inner {
      max-height: 260px;
    }

    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —É–º–µ–Ω—å—à–∞–µ–º –Ω–æ–º–µ—Ä –¥–Ω—è */
    .front .num {
      font-size: 24px;
    }
  }

  /* print-friendly */
  @media print {
    body {
      background: white;
    }
    .btn, .reset {
      display: none;
    }
    .inner {box-shadow:none}
.grid{gap:6px}
}
</style>
</head>
<body>
<div class="wrap" role="main">
<header>
<div>
<h1>–ê–¥–≤–µ–Ω—Ç 2025: –∑–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ</h1>
<p class="lead">–ö–ª–∏–∫–Ω–∏ –Ω–∞ –æ–∫–æ—à–∫–æ –¥–Ω—è ‚Äî –∫–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ 1‚Äì5 –º–∏–Ω—É—Ç. –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.</p>
</div>
<button class="btn" id="revealToday">–û—Ç–∫—Ä—ã—Ç—å —Å–µ–≥–æ–¥–Ω—è</button>
</header>

<!-- –û—Å–Ω–æ–≤–Ω—ã–µ 1‚Äì24 -->
<section>
<div class="grid" id="grid"></div>
</section>

<div class="separator">
<div class="section-title">–ë–æ–Ω—É—Å–Ω—ã–µ –¥–Ω–∏ ‚Äî 25‚Äì31</div>
<div class="grid" id="bonusGrid"></div>
</div>

<footer>
<div class="progress" id="progress">–û—Ç–∫—Ä—ã—Ç–æ 0 –∏–∑ 31</div>
<div style="display:flex;gap:8px;flex-wrap:wrap">
<button class="btn secondary" id="printBtn">–ü–µ—á–∞—Ç—å</button>
<button class="reset" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
</div>
</footer>
</div>

<script>
(function(){
const mainTasks = [
"–ó–∞–ø–∏—à–∏ –æ–¥–Ω—É –≤–µ—â—å, –∫–æ—Ç–æ—Ä–∞—è –≤ —Ç–µ–±–µ —É–∫—Ä–µ–ø–∏–ª–∞—Å—å –∑–∞ –≥–æ–¥.",
"–í—ã–±–µ—Ä–∏ –º–∞–ª–µ–Ω—å–∫–∏–π –∂–µ—Å—Ç –∑–∞–±–æ—Ç—ã –æ —Ç–µ–ª–µ: –≤—ã–ø–µ–π –≤–æ–¥—ã, —Å–¥–µ–ª–∞–π 3 –≥–ª—É–±–æ–∫–∏—Ö –≤–¥–æ—Ö–∞, –ø–æ—Ç—è–Ω–∏—Å—å.",
"–í—Å–ø–æ–º–Ω–∏ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Ç—ã —Å–æ–±–æ–π –≥–æ—Ä–¥–∏–ª–∞—Å—å, –∏ –æ–ø–∏—à–∏ –µ–≥–æ —Ç—Ä–µ–º—è —Å–ª–æ–≤–∞–º–∏.",
"–£—Å—Ç—Ä–æ–∏—Ç—å ¬´–ø–∞—É–∑—É –Ω–∞ –æ–∫–Ω–æ¬ª –Ω–∞ 2 –º–∏–Ω—É—Ç—ã ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å –∏ –¥—ã—à–∞—Ç—å.",
"–ü–æ–¥—É–º–∞—Ç—å, –∫—Ç–æ –±—ã–ª–∞ –æ–ø–æ—Ä–æ–π –≤ —ç—Ç–æ–º –≥–æ–¥—É, –∏ –º—ã—Å–ª–µ–Ω–Ω–æ –ø–æ–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å.",
"–ó–∞–ø–∏—Å–∞—Ç—å –æ–¥–Ω—É –ø—Ä–∏–≤—ã—á–∫—É, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—à—å –º—è–≥–∫–æ —É–∫—Ä–µ–ø–∏—Ç—å –≤ —Å–ª–µ–¥—É—é—â–µ–º –≥–æ–¥—É.",
"–°–¥–µ–ª–∞—Ç—å –º–∞–ª–µ–Ω—å–∫—É—é —Å–µ–Ω—Å–æ—Ä–Ω—É—é —Ä–∞–¥–æ—Å—Ç—å: —Ç—ë–ø–ª—ã–π –Ω–∞–ø–∏—Ç–æ–∫, –ª—é–±–∏–º—ã–π –∑–∞–ø–∞—Ö, –ø–ª–µ–¥.",
"–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ –≥–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Å–∏–º–≤–æ–ª —Ç—ë–ø–ª–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞.",
"–ü–æ–ª–æ–∂–∏—Ç—å —Ä—É–∫—É –Ω–∞ –≥—Ä—É–¥—å –∏ —Å–¥–µ–ª–∞—Ç—å 5 –≥–ª—É–±–æ–∫–∏—Ö –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –≤–¥–æ—Ö–æ–≤.",
"–°–ø—Ä–æ—Å–∏—Ç—å —Å–µ–±—è: ¬´–ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?¬ª ‚Äî –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥.",
"–ó–∞–ø–∏—Å–∞—Ç—å —Ç—Ä–∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É–¥–∞—á–∏ —ç—Ç–æ–≥–æ –≥–æ–¥–∞.",
"–û—Å—Ç–∞—Ç—å—Å—è –≤ –ø—Ä—è–º–æ–π –æ—Å–∞–Ω–∫–µ 1 –º–∏–Ω—É—Ç—É ‚Äî –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –¥—ã—Ö–∞–Ω–∏–µ.",
"–£—Å—Ç—Ä–æ–∏—Ç—å ¬´—Ç–∏—à–∏–Ω—É –Ω–∞ 1 –º–∏–Ω—É—Ç—É¬ª ‚Äî –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –∑–∞–¥–∞—á.",
"–í—ã–ø–∏—Å–∞—Ç—å —Ç—Ä–∏ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—á–µ—à—å –æ—Å—Ç–∞–≤–∏—Ç—å –≤ —É—Ö–æ–¥—è—â–µ–º –≥–æ–¥—É.",
"–í—Å–ø–æ–º–Ω–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–µ—Å–ª–∞ –¥–æ–±—Ä–æ.",
"–í—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ —É–ø—Ä–æ—â–µ–Ω–∏–µ –¥–ª—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è.",
"–ó–∞–ø–∏—Å–∞—Ç—å –æ–¥–Ω—É –º–µ—á—Ç—É –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.",
"–ú–∏–∫—Ä–æ-—Ä–∞—Å—Ö–ª–∞–º–ª–µ–Ω–∏–µ: —É–±—Ä–∞—Ç—å –æ–¥–Ω—É –≤–µ—â—å.",
"–°–æ—Å—Ç–∞–≤–∏—Ç—å –º–∏–Ω–∏-–ø–ª–µ–π–ª–∏—Å—Ç –∏–∑ —Ç—Ä—ë—Ö —Ç—Ä–µ–∫–æ–≤.",
"–í—Å–ø–æ–º–Ω–∏—Ç—å –º–æ–º–µ–Ω—Ç –ø–æ–∫–æ—è –∑–∞ –≥–æ–¥ ‚Äî –æ–ø–∏—Å–∞—Ç—å –æ—â—É—â–µ–Ω–∏–µ.",
"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏: –≥–æ–ª–æ–¥, –≤–æ–¥–∞, –≤–æ–∑–¥—É—Ö.",
"–ó–∞–ø–∏—Å–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–æ–µ ¬´–¥–∞¬ª, –∫–æ—Ç–æ—Ä–æ–µ —Å–∫–∞–∑–∞–ª–∞ —Å–µ–±–µ.",
"–°–¥–µ–ª–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥ —Ä–∞—Å—Ç—è–∂–∫–∏.",
"–ù–∞–∑–≤–∞—Ç—å –æ–¥–Ω—É –≤–µ—â—å, –∫–æ—Ç–æ—Ä—É—é —Å–¥–µ–ª–∞–µ—à—å –¥–ª—è —Å–µ–±—è –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É."
];

const bonusTasks = [
"–ú—è–≥–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–Ω—è ‚Äî –≤—ã–±–µ—Ä–∏ –æ–¥–∏–Ω –∂–µ—Å—Ç –ª–∞—Å–∫–∏ —Å–µ–±–µ.",
"–ó–∞–ø–∏—à–∏ —Ç—Ä–∏ —Å–æ–±—ã—Ç–∏—è –≥–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞–ª–∏ —Ç–µ–±—è —Å–∏–ª—å–Ω–µ–µ.",
"–î–≤–µ –º–∏–Ω—É—Ç—ã —Ç–∏—à–∏–Ω—ã ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏.",
"–ü–æ–¥–∞—Ä–æ–∫ —Å–µ–±–µ: –ø—Ä–∏–¥—É–º–∞–π –º–∞–ª–µ–Ω—å–∫–∏–π —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–π –∂–µ—Å—Ç.",
"–ß—Ç–æ —Ö–æ—á–µ—à—å –æ—Ç–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º –≥–æ–¥–æ–º? –û–¥–Ω–æ —Å–ª–æ–≤–æ.",
"–ß—Ç–æ —Ö–æ—á–µ—à—å –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å–µ–±—è? –û–¥–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ.",
"–ù–∞–ø–∏—à–∏ –∫–æ—Ä–æ—Ç–∫–æ–µ —Ç—ë–ø–ª–æ–µ –ø–∏—Å—å–º–æ —Å–µ–±–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥."
];

const grid = document.getElementById('grid');
const bonusGrid = document.getElementById('bonusGrid');
const progressEl = document.getElementById('progress');
const resetBtn = document.getElementById('resetBtn');
const printBtn = document.getElementById('printBtn');
const revealTodayBtn = document.getElementById('revealToday');

const STORAGE_KEY = 'advent-selfcare-state-v3';
let state = { opened: {}, done: {} };
try{
const raw = localStorage.getItem(STORAGE_KEY);
if(raw) state = JSON.parse(raw);
}catch(e){}

function save(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); updateProgress(); }

function createCard(globalIndex, label, text){
const card = document.createElement('div');
card.className = 'card';
card.setAttribute('data-day', globalIndex + 1);

const inner = document.createElement('div');
inner.className = 'inner';

const front = document.createElement('div');
front.className = 'face front';
front.innerHTML = `<div><div class="num">${label}</div></div>`;

const back = document.createElement('div');
back.className = 'face back';

const task = document.createElement('div');
task.className = 'task';
task.textContent = text;

const controls = document.createElement('div');
controls.className = 'controls';

const doneLabel = document.createElement('label');
doneLabel.className = 'done';

const checkbox = document.createElement('input');
checkbox.type='checkbox';
checkbox.checked = !!state.done[globalIndex];
checkbox.addEventListener('change',(e)=>{
state.done[globalIndex] = e.target.checked;
save();
});

doneLabel.appendChild(checkbox);
doneLabel.appendChild(document.createTextNode('–í—ã–ø–æ–ª–Ω–µ–Ω–æ'));

const meta = document.createElement('div');
meta.className = 'small';
meta.textContent = '–î–µ–Ω—å ' + label;

controls.appendChild(doneLabel);
controls.appendChild(meta);

back.appendChild(task);
back.appendChild(controls);

inner.appendChild(front);
inner.appendChild(back);
card.appendChild(inner);

if(state.opened[globalIndex]){
card.classList.add('open');
inner.style.transform = 'rotateY(180deg)';
}

card.addEventListener('click', (ev)=>{
if(ev.target.tagName.toLowerCase()==='input') return;
state.opened[globalIndex] = true;
card.classList.toggle('open');
save();
});

return card;
}

function updateProgress(){
const total = mainTasks.length + bonusTasks.length;
const openedCount = Object.keys(state.opened).filter(k=>state.opened[k]).length;
const doneCount = Object.keys(state.done).filter(k=>state.done[k]).length;
progressEl.textContent = `–û—Ç–∫—Ä—ã—Ç–æ ${openedCount} –∏–∑ ${total}. –í—ã–ø–æ–ª–Ω–µ–Ω–æ: ${doneCount}.`;
}

function render(){
grid.innerHTML = '';
bonusGrid.innerHTML = '';
for(let i=0;i<mainTasks.length;i++){
grid.appendChild(createCard(i,i+1,mainTasks[i]));
}
for(let j=0;j<bonusTasks.length;j++){
const idx = mainTasks.length + j;
bonusGrid.appendChild(createCard(idx,25+j,bonusTasks[j]));
}
updateProgress();
}

resetBtn.addEventListener('click',()=>{
if(confirm('–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å?')){
state={opened:{},done:{}};
save();
render();
}
});

printBtn.addEventListener('click',()=>window.print());

revealTodayBtn.addEventListener('click',()=>{
const d=new Date().getDate();
const day=Math.min(31,Math.max(1,d));
state.opened[day-1]=true;
save();
const card=document.querySelector(`[data-day="${day}"]`);
if(card){
card.classList.add('open');
card.querySelector('.inner').style.transform='rotateY(180deg)';
card.scrollIntoView({behavior:'smooth',block:'center'});
}
});

render();
})();
</script>
</body>
</html>
